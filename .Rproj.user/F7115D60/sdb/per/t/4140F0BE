{
    "contents" : "## Basic Data Analysis on New Nominate\n\nlibrary(foreign)\nlibrary(stargazer)\nlibrary(ggplot2)\nlibrary(plyr)\nlibrary(reshape2)\nlibrary(ggthemes)\nlibrary(plm)\nlibrary(car) \nlibrary(gplots)\n\n# Import Data\nNokkenPooleHouseScores <- read.csv(\"C:/Users/Olson/Dropbox/ideas/Tea Party Does Not Exist/NokkenPooleHouse.csv\")\n\n#### This section does all the variable creation / preliminary moves so that I can create\n#### graphs and analysis\n### These change the data for my purposes. One thing to note is that they drop all third\n### party members. I have recoded the party variables by hand in the .csv. I'll need to change\n### the functions below to compensate for this. The treatment of third party members is something\n### needs to be considered eventually. Also need to drop Presidents. \n## Only Use Data for 110th onward\ndav110 <- NokkenPooleHouseScores[ which(NokkenPooleHouseScores$Congress >= 110 & NokkenPooleHouseScores$Party <=2), ]\n## Only Post World War Two\ndav80 <- NokkenPooleHouseScores[ which(NokkenPooleHouseScores$Congress >= 80 & NokkenPooleHouseScores$Party <=2), ]\n## Only 20th Century\ndav56 <- NokkenPooleHouseScores[ which(NokkenPooleHouseScores$Congress >= 56 & NokkenPooleHouseScores$Party <=2), ]\n\n### This section labels both the regular party variable and the TParty variable for visualization\n### and ease of use. For the record, TPartyAll is if a member has ever called themself a TP member\n### and TPartyNew is if they called themself one in the 112th Congress. Only use the TParty*\n### variables for visualizaton, not actual analysis.\n## Assign Party Labels\n# Post 110, regular party\ndav110$Party <- factor(dav110$Party,\n                       levels = c(0,1),\n                       labels = c(\"Democrat\", \"Republican\"))\n# Post WW2, regular party\ndav80$Party <- factor(dav80$Party,\n                      levels = c(0,1),\n                      labels = c(\"Democrat\", \"Republican\"))\n# 20th century, regular party\ndav56$Party <- factor(dav56$Party,\n                      levels = c(0,1),\n                      labels = c(\"Democrat\", \"Republican\"))\n# 110th, TP\ndav110$TPartyAll <- factor(dav110$TPartyAll,\n                           levels = c(1,2,3),\n                           labels = c(\"Democrat\", \"Republican\", \"Tea Party\"))\n\ndav110$TPartyNew <- factor(dav110$TPartyNew,\n                           levels = c(1,2,3),\n                           labels = c(\"Democrat\", \"Republican\", \"Tea Party\"))\n# Post ww2, TP\ndav80$TPartyAll <- factor(dav80$TPartyAll,\n                          levels = c(1,2,3),\n                          labels = c(\"Democrat\", \"Republican\", \"Tea Party\"))\n\ndav80$TPartyNew <- factor(dav80$TPartyNew,\n                          levels = c(1,2,3),\n                          labels = c(\"Democrat\", \"Republican\", \"Tea Party\"))\n# Post 20th century, TP\ndav56$TPartyAll <- factor(dav56$TPartyAll,\n                          levels = c(1,2,3),\n                          labels = c(\"Democrat\", \"Republican\", \"Tea Party\"))\n\ndav56$TPartyNew <- factor(dav56$TPartyNew,\n                          levels = c(1,2,3),\n                          labels = c(\"Democrat\", \"Republican\", \"Tea Party\"))\n\n#### Part One\n#### Prelim Analysis\n#### Dec 15 update: Turns out my data was broken so a bunch of data was not being plotted correctly.\n#### Some of the first dimension nominate had letters first so it was messing stuff up.\n## Rough Graph It.\n# This doesn't work and is way too messy. Dropping data\np1gv1all <- ggplot(NokkenPooleHouseScores, aes(Congress, FirstDimension))\np1gv1all + geom_point()\np1gv1all + geom_point(aes(colour = Party))\ndev.copy(png,'p1gv1all.png')\ndev.off()\n\n# For fun, look at second dimension which is racial data.\np1gv3all <- ggplot(NokkenPooleHouseScores, aes(Congress, SecondDimension))\np1gv3all + geom_point()\np1gv3all + geom_point(aes(colour = Party))\n\n# Second Graph Attempt | This looks dumb\np1gv2 <- ggplot(dav110, aes(Congress, FirstDimension))\np1gv2 + geom_point(aes(colour = Party))\n\n# Here is a pretty good one examining the shift of Republicans in post war America\np1gv4ww2 <- ggplot(dav80, aes(Congress, FirstDimension))\np1gv4ww2 + geom_point()\np1gv4ww2 + geom_point(aes(color = Party))\ndev.copy(png,'p1gv4all.png')\ndev.off()\n\n#### Part Two\n#### For something totally different now, need to examine average ideoology\n#### trends historically. For this I have to figure out how to extract averages\n#### per congress in order to find the pivots. Eventually I'll also need Senate\n#### data.\n#### Additionally, I had the idea of looking at extremism over all Congresses to see \n#### if there has been a period where the parties were this extreme. Compare and \n#### contrast. My thought is that we can compare contemporary Republicans to TP\n#### Republicans\n\n### This is an extremely clumsy but working way of getting the average nominate\n### scores for a given party in a given congress. I do it for both the post war\n### and also the 20th century. Note that the Post War version has TP as separate from\n### the Republicans. I can change that if need be. Both the \"Final\" versions probably\n### aren't very good for actual visualizaton but they are good to look at.\n## Post War\nAgg80 <-aggregate(dav80$FirstDimension, by=list(dav80$Congress,dav80$TPartyAll), \n                  FUN=mean, na.rm=TRUE)\nAgg80 <- rename(Agg80, c(Group.1=\"Congress\"))\nAgg80 <- rename(Agg80, c(Group.2=\"Party\"))\nAgg80 <- rename(Agg80, c(x=\"AverageIdeo\"))\n\nAgg80Final <- dcast(Agg80, Congress ~ Party)\n\n## 20th century\nAgg56 <-aggregate(dav56$FirstDimension, by=list(dav56$Congress,dav56$Party), \n                  FUN=mean, na.rm=TRUE)\nAgg56 <- rename(Agg56, c(Group.1=\"Congress\"))\nAgg56 <- rename(Agg56, c(Group.2=\"Party\"))\nAgg56 <- rename(Agg56, c(x=\"AverageIdeo\"))\n\nAgg56Final <- dcast(Agg56, Congress ~ Party)\n\n### Plots of Aggregate Data\n### Let's do some smooth ideology plots. This is a pretty important graph.\np2g1 <- ggplot(Agg80, aes(x = Congress, y = AverageIdeo, color = Party)) +\n  scale_colour_manual(values = c(\"#0000FF\",\"#FF0000\",\"#cccc00\"))+\n  geom_point() +\n  stat_smooth() +\n  theme_classic() +\n  labs(x = \"Congress\", y = \"Average Ideology of Party\") +\n  scale_shape_discrete(name = \"Congressional\\nParty\")\nggsave(file=\"p2g1.png\")\n\n#### Part Three\n#### I need to look at microlevel changes for individual members.\n#### Subset of just Republicans\ndav110gop <- subset(dav110, Party = 1)\n\n### Predict TP membership\n## Real basic model\nTPmem <- glm(tptwo ~ FirstDimension, data=dav110gop, family = \"binomial\")\nsummary(TPmem)               \n### Look at Avg Ideology of TP vs AVG ideology of 1SD or 2SD Republicans in previous years\n               \n### Predict where their ideology should have been.\n### This is a big deal. I probably will end up running I_t1 = I_t-1 types\n### of models but eventually I will need to run a time series model that predicts\n### normal GOP folks against extreme conservatives. Additionally, I should just look @ linear trend. \n### How do means between the TP folks compare with just normal Republicans. Another way to look at this\n### is to I think that I want one of my DVs to be change in ideology as a function of TP membership.\n### To accomplish this, I have to figure out a way to subtract T-1's ideology for a given member\n### from T's ideology. First steps first, put the data in a version that allows us to calculate\n### the difference\ndav112Dif<- dcast(dav110, ICPSR + Name + State + Party + TPartyAll + TPartyNew + tptwo ~ Congress, value.var=\"FirstDimension\")\ndav112Dif$Difference112111 <- dav112Dif$\"112\" - dav112Dif$\"111\"\nquickmodel <- lm(Difference112111 ~ tptwo, data=dav112Dif)\nsummary(quickmodel)\n               \n### Here is me dicking around with a panel regression\n## Diagnostic plots outlined in R slides\nplotmeans(FirstDimension ~ ICPSR, main=\"Heterogeineityacross countries\", data=dav80)\nplotmeans(FirstDimension ~ Congress, main=\"Heterogeineityacross years\", data=dav80)               \n\nfixed <-plm(FirstDimension ~ tpone + Party, data=dav80, index=c(\"ICPSR\", \"Congress\"), model=\"within\")\nsummary(fixed)\n\n#### Part Four: Trying to see an agenda change.\n#### One of the major part\n\n### Roll Rates\n## Import Data. This data is individual level based and I'll need to aggregate it to get overall\n## roll rates. Additionally, it is times won so I'll need to convert the variables (annoying) to\n## times lost. I didn't download the senate version but they are here http://voteview.com/winning_side.htm\nWinningSideHouse <- read.csv(\"C:/Users/Olson/Dropbox/ideas/Tea Party Does Not Exist/WinningSideHouse.csv\")\n\n\n## Aggregate\n## In this section I'll have to aggregate the stuff up.\n\n## Individual\n\n## Special Rules\n",
    "created" : 1454017927426.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4224636818",
    "id" : "4140F0BE",
    "lastKnownWriteTime" : 1454017776,
    "path" : "C:/Users/olso4075/Desktop/GitHub/TPE/PrelimAnalysis.R",
    "project_path" : "PrelimAnalysis.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}